# METABEGIN
# X-Env-Layer-Name: trigger-invalid-force
# X-Env-Layer-Desc: Trigger sets target to invalid value while target is force-set
# X-Env-Layer-Version: 1.0.0
# X-Env-Layer-Category: test
# X-Env-VarPrefix: image
#
# X-Env-Var-pmap: clear
# X-Env-Var-pmap-Desc: Provisioning Map identifier for this image layout.
#  All partitions will be provisioned unencrypted (clear).
#  Root partition will be provisioned encrypted (crypt).
# X-Env-Var-pmap-Required: n
# X-Env-Var-pmap-Valid: clear,crypt
# X-Env-Var-pmap-Set: force
# 
# X-Env-Var-rootfs_type: btrfs
# X-Env-Var-rootfs_type-Desc: Root filesystem type.
# X-Env-Var-rootfs_type-Required: n
# X-Env-Var-rootfs_type-Valid: ext4,btrfs
# X-Env-Var-rootfs_type-Set: y
# X-Env-Var-rootfs_type-Triggers: when=btrfs set IGconf_image_pmap=invalid policy=force
#
# X-Env-Var-boot_part_size: 100%
# X-Env-Var-boot_part_size-Desc: Boot partition size
# X-Env-Var-boot_part_size-Required: n
# X-Env-Var-boot_part_size-Valid: size
# X-Env-Var-boot_part_size-Set: y
#
# X-Env-Var-root_part_size: 100%
# X-Env-Var-root_part_size-Desc: Root partition size
# X-Env-Var-root_part_size-Required: n
# X-Env-Var-root_part_size-Valid: size
# X-Env-Var-root_part_size-Set: y
#
# X-Env-Var-assetdir: ${DIRECTORY}
# X-Env-Var-assetdir-Desc: Image specific asset directory
# X-Env-Var-assetdir-Required: n
# X-Env-Var-assetdir-Valid: string
# X-Env-Var-assetdir-Set: y
# METAEND

trigger_invalid_force:
  rootfs_type: ${IGconf_image_rootfs_type}
  pmap: ${IGconf_image_pmap}
